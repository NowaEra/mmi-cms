<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.js"></script>
  <script type="text/javascript">
    var typ_edytora=top.tinymce.activeEditor.id;      
    var typ_edytora=window.parent.$("#"+top.tinymce.activeEditor.id).attr('rel');    
  </script>
      
  <!-- Update with your paths to everything -->
  <script type="text/javascript" src="mathquill.js"></script>
  <script type="text/javascript" src="equation_editor.js"></script>

  <link rel="stylesheet" type="text/css" href="mathquill.css">
  <link rel="stylesheet" type="text/css" href="equation_editor.css">
</head>
<body class="equation-editor">
  <div class="cols">
    <div id="ikony" class="math-form col">
      <div class="button-bar"></div>

      <div class="math"></div>
    </div>
    <div class="button-groups col">
    </div>
  </div>
  <script type="text/javascript">
    switch(typ_edytora) {
        case 'fizyka':
        case 'geografia':
        case 'matematyka':
        case 'chemia':
            $('#ikony').addClass('full matematyka');
            break;
    }
      
    var params = top.tinymce.activeEditor.windowManager.getParams();
    var existingLatex = params['existing_latex'];

    var equationEditor = new EquationEditor.EquationEditorView({
      $el: $('.equation-editor'),
      existingLatex: existingLatex,
      restrictions: top.tinymce.equationEditorRestrictions
    }).render();

    params['latexInput'] = equationEditor.input();
    top.tinymce.activeEditor.windowManager.setParams(params);
  </script>
</body>
</html>
